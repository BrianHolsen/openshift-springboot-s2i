docker build -t openshift-springboot-s2i-candidate .
Sending build context to Docker daemon 557.1 kBSending build context to Docker daemon 1.114 MBSending build context to Docker daemon 1.671 MBSending build context to Docker daemon 2.228 MBSending build context to Docker daemon 2.785 MBSending build context to Docker daemon 3.342 MBSending build context to Docker daemon 3.899 MBSending build context to Docker daemon 4.456 MBSending build context to Docker daemon 5.014 MBSending build context to Docker daemon 5.571 MBSending build context to Docker daemon 6.128 MBSending build context to Docker daemon 6.685 MBSending build context to Docker daemon 7.242 MBSending build context to Docker daemon 7.799 MBSending build context to Docker daemon 8.356 MBSending build context to Docker daemon 8.913 MBSending build context to Docker daemon  9.47 MBSending build context to Docker daemon 10.03 MBSending build context to Docker daemon 10.58 MBSending build context to Docker daemon 11.14 MBSending build context to Docker daemon  11.7 MBSending build context to Docker daemon 12.26 MBSending build context to Docker daemon 12.81 MBSending build context to Docker daemon 13.37 MBSending build context to Docker daemon 13.93 MBSending build context to Docker daemon 14.48 MBSending build context to Docker daemon 15.04 MBSending build context to Docker daemon  15.6 MBSending build context to Docker daemon 16.15 MBSending build context to Docker daemon 16.71 MBSending build context to Docker daemon 17.27 MBSending build context to Docker daemon 17.83 MBSending build context to Docker daemon 18.38 MBSending build context to Docker daemon 18.59 MB
Step 1 : FROM openshift/base-centos7
 ---> 0c5b8f6858d7
Step 2 : MAINTAINER Ed Veretinskas <ed@mits4u.co.uk>
 ---> Using cache
 ---> 6e9ad2437697
Step 3 : ENV MAVEN_VERSION 3.3.9
 ---> Using cache
 ---> 36bda64773f2
Step 4 : ENV JAVA_VERSION 1.8.0_101
 ---> Using cache
 ---> e987b1fbfa0b
Step 5 : LABEL io.k8s.description "Platform for serving Spring Boot micro-services" io.k8s.display-name "openshift-springboot-s2i 1.0.0" io.openshift.tags "builder,html,springboot"
 ---> Using cache
 ---> 666477115423
Step 6 : RUN wget --no-cookies --no-check-certificate --header "Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie" "http://download.oracle.com/otn-pub/java/jdk/8u111-b14/jdk-8u111-linux-x64.rpm"
 ---> Using cache
 ---> 0b949a581253
Step 7 : RUN rpm -ivh jdk-8u111-linux-x64.rpm
 ---> Using cache
 ---> 47be9797942c
Step 8 : RUN wget http://www-eu.apache.org/dist/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.tar.gz
 ---> Using cache
 ---> c4ecdeeefec9
Step 9 : RUN tar xvf apache-maven-3.3.9-bin.tar.gz
 ---> Using cache
 ---> f8a27dbc0d9a
Step 10 : RUN mkdir -p /usr/local/apache-maven/apache-maven-3.3.9
 ---> Using cache
 ---> 3e7713becde8
Step 11 : RUN mv -v -n apache-maven-3.3.9/* /usr/local/apache-maven/apache-maven-3.3.9
 ---> Using cache
 ---> 341b931d2f41
Step 12 : LABEL io.openshift.s2i.scripts-url image:///usr/local/s2i
 ---> Using cache
 ---> cd79b0b44eb5
Step 13 : COPY ./.s2i/bin/ /usr/local/s2i
 ---> 292fd689919c
Removing intermediate container 8302a7bb2a6b
Step 14 : RUN chown -R 1001:1001 /opt/app-root
 ---> Running in 7a2260139ce6
 ---> fd993453c29b
Removing intermediate container 7a2260139ce6
Step 15 : USER 1001
 ---> Running in 3047aa900fc3
 ---> d3a34447daf0
Removing intermediate container 3047aa900fc3
Step 16 : CMD usage
 ---> Running in bc013028d9af
 ---> 2284dddf35e5
Removing intermediate container bc013028d9af
Successfully built 2284dddf35e5
IMAGE_NAME=openshift-springboot-s2i-candidate test/run
Reinitialized existing Git repository in /vagrant/test/test-app/.git/
# On branch master
nothing to commit, working directory clean
Running S2I version "v1.1.3"
Checking if image "openshift-springboot-s2i-candidate" is available locally ...

Builder Name:			openshift-springboot-s2i 1.0.0
Builder Image:			openshift-springboot-s2i-candidate
Source:				file:///vagrant/test/test-app
Output Image Tag:		openshift-springboot-s2i-candidate-testapp
Environment:			
Labels:				
Incremental Build:		[1menabled[0m
Incremental Image Pull User:	
Remove Old Build:		disabled
Builder Pull Policy:		never
Previous Image Pull Policy:	if-not-present
Quiet:				disabled
Layered Build:			disabled
Docker Endpoint:		unix:///var/run/docker.sock

Checking if image "openshift-springboot-s2i-candidate" is available locally ...
Image sha256:2284dddf35e553e931eb4d7545ac149cafcfc6dbe902a7cf5fb2869332d65a23 contains io.openshift.s2i.scripts-url set to "image:///usr/local/s2i"
Preparing to build openshift-springboot-s2i-candidate-testapp
Downloading "/vagrant/test/test-app" ...
Cloning sources and all Git submodules (recursive) into "/tmp/s2i669330414/upload/src"
Image "openshift-springboot-s2i-candidate-testapp:latest" not available locally, pulling ...
Unable to pull previously built image "openshift-springboot-s2i-candidate-testapp": unable to get openshift-springboot-s2i-candidate-testapp:latest
Clean build will be performed
Performing source build from /vagrant/test/test-app
Running "assemble" in "openshift-springboot-s2i-candidate-testapp"
Using image name openshift-springboot-s2i-candidate
starting the source uploading ...

Image sha256:2284dddf35e553e931eb4d7545ac149cafcfc6dbe902a7cf5fb2869332d65a23 contains io.openshift.s2i.scripts-url set to "image:///usr/local/s2i"
Base directory for S2I scripts is '/usr/local/s2i'. Untarring destination is '/tmp'.
Creating container with options {Name:"s2i_openshift_springboot_s2i_candidate_5f6f2021" Config:&{Hostname: Domainname: User: AttachStdin:false AttachStdout:true AttachStderr:false ExposedPorts:map[] Tty:false OpenStdin:true StdinOnce:true Env:[] Cmd:[/bin/sh -c tar -C /tmp -xf - && /usr/local/s2i/assemble] Healthcheck:<nil> ArgsEscaped:false Image:openshift-springboot-s2i-candidate:latest Volumes:map[] WorkingDir: Entrypoint:[] NetworkDisabled:false MacAddress: OnBuild:[] Labels:map[] StopSignal: StopTimeout:<nil> Shell:[]} HostConfig:&{Binds:[] ContainerIDFile: LogConfig:{Type: Config:map[]} NetworkMode: PortBindings:map[] RestartPolicy:{Name: MaximumRetryCount:0} AutoRemove:false VolumeDriver: VolumesFrom:[] CapAdd:[] CapDrop:[] DNS:[] DNSOptions:[] DNSSearch:[] ExtraHosts:[] GroupAdd:[] IpcMode: Cgroup: Links:[] OomScoreAdj:0 PidMode: Privileged:false PublishAllPorts:false ReadonlyRootfs:false SecurityOpt:[] StorageOpt:map[] Tmpfs:map[] UTSMode: UsernsMode: ShmSize:0 Sysctls:map[] Runtime: ConsoleSize:[0 0] Isolation: Resources:{CPUShares:0 Memory:0 CgroupParent: BlkioWeight:0 BlkioWeightDevice:[] BlkioDeviceReadBps:[] BlkioDeviceWriteBps:[] BlkioDeviceReadIOps:[] BlkioDeviceWriteIOps:[] CPUPeriod:0 CPUQuota:0 CpusetCpus: CpusetMems: Devices:[] DiskQuota:0 KernelMemory:0 MemoryReservation:0 MemorySwap:0 MemorySwappiness:<nil> OomKillDisable:<nil> PidsLimit:0 Ulimits:[] CPUCount:0 CPUPercent:0 IOMaximumIOps:0 IOMaximumBandwidth:0} Mounts:[]}} ...
Attaching to container "a7acc3c653cf9e47105e44a27e03282d7dae122296016244e36617dd6c9b403e" ...
Starting container "a7acc3c653cf9e47105e44a27e03282d7dae122296016244e36617dd6c9b403e" ...
/bin/bash: -: invalid option
Removing temporary directory /tmp/s2i669330414
Removing directory '/tmp/s2i669330414'

ERROR: An error occurred: non-zero (13) exit code from openshift-springboot-s2i-candidate
Running S2I version "v1.1.3"
Checking if image "openshift-springboot-s2i-candidate" is available locally ...

Builder Name:			openshift-springboot-s2i 1.0.0
Builder Image:			openshift-springboot-s2i-candidate
Source:				file:///vagrant/test/test-app
Output Image Tag:		openshift-springboot-s2i-candidate-testapp
Environment:			
Labels:				
Incremental Build:		[1menabled[0m
Incremental Image Pull User:	
Remove Old Build:		disabled
Builder Pull Policy:		never
Previous Image Pull Policy:	if-not-present
Quiet:				disabled
Layered Build:			disabled
Docker Endpoint:		unix:///var/run/docker.sock

Checking if image "openshift-springboot-s2i-candidate" is available locally ...
Image sha256:2284dddf35e553e931eb4d7545ac149cafcfc6dbe902a7cf5fb2869332d65a23 contains io.openshift.s2i.scripts-url set to "image:///usr/local/s2i"
Preparing to build openshift-springboot-s2i-candidate-testapp
Downloading "/vagrant/test/test-app" ...
Cloning sources and all Git submodules (recursive) into "/tmp/s2i564163974/upload/src"
Image "openshift-springboot-s2i-candidate-testapp:latest" not available locally, pulling ...
Unable to pull previously built image "openshift-springboot-s2i-candidate-testapp": unable to get openshift-springboot-s2i-candidate-testapp:latest
Clean build will be performed
Performing source build from /vagrant/test/test-app
Running "assemble" in "openshift-springboot-s2i-candidate-testapp"
Using image name openshift-springboot-s2i-candidate

starting the source uploading ...
Image sha256:2284dddf35e553e931eb4d7545ac149cafcfc6dbe902a7cf5fb2869332d65a23 contains io.openshift.s2i.scripts-url set to "image:///usr/local/s2i"
Base directory for S2I scripts is '/usr/local/s2i'. Untarring destination is '/tmp'.
Creating container with options {Name:"s2i_openshift_springboot_s2i_candidate_7422ae87" Config:&{Hostname: Domainname: User: AttachStdin:false AttachStdout:true AttachStderr:false ExposedPorts:map[] Tty:false OpenStdin:true StdinOnce:true Env:[] Cmd:[/bin/sh -c tar -C /tmp -xf - && /usr/local/s2i/assemble] Healthcheck:<nil> ArgsEscaped:false Image:openshift-springboot-s2i-candidate:latest Volumes:map[] WorkingDir: Entrypoint:[] NetworkDisabled:false MacAddress: OnBuild:[] Labels:map[] StopSignal: StopTimeout:<nil> Shell:[]} HostConfig:&{Binds:[] ContainerIDFile: LogConfig:{Type: Config:map[]} NetworkMode: PortBindings:map[] RestartPolicy:{Name: MaximumRetryCount:0} AutoRemove:false VolumeDriver: VolumesFrom:[] CapAdd:[] CapDrop:[] DNS:[] DNSOptions:[] DNSSearch:[] ExtraHosts:[] GroupAdd:[] IpcMode: Cgroup: Links:[] OomScoreAdj:0 PidMode: Privileged:false PublishAllPorts:false ReadonlyRootfs:false SecurityOpt:[] StorageOpt:map[] Tmpfs:map[] UTSMode: UsernsMode: ShmSize:0 Sysctls:map[] Runtime: ConsoleSize:[0 0] Isolation: Resources:{CPUShares:0 Memory:0 CgroupParent: BlkioWeight:0 BlkioWeightDevice:[] BlkioDeviceReadBps:[] BlkioDeviceWriteBps:[] BlkioDeviceReadIOps:[] BlkioDeviceWriteIOps:[] CPUPeriod:0 CPUQuota:0 CpusetCpus: CpusetMems: Devices:[] DiskQuota:0 KernelMemory:0 MemoryReservation:0 MemorySwap:0 MemorySwappiness:<nil> OomKillDisable:<nil> PidsLimit:0 Ulimits:[] CPUCount:0 CPUPercent:0 IOMaximumIOps:0 IOMaximumBandwidth:0} Mounts:[]}} ...
Attaching to container "846065ccdc51f209813700bf2f583b473d035565c015e47fe1d1a44842dab73d" ...
Starting container "846065ccdc51f209813700bf2f583b473d035565c015e47fe1d1a44842dab73d" ...
/bin/bash: -: invalid option
Removing temporary directory /tmp/s2i564163974
Removing directory '/tmp/s2i564163974'

ERROR: An error occurred: non-zero (13) exit code from openshift-springboot-s2i-candidate
S2I image 'openshift-springboot-s2i-candidate' test FAILED (exit code: 1)
make: *** [test] Error 1
